============================= test session starts =============================
platform win32 -- Python 3.11.14, pytest-9.0.2, pluggy-1.6.0 -- C:\Users\ljega\anaconda3\envs\permian-econ\python.exe
cachedir: .pytest_cache
rootdir: C:\Users\ljega\Downloads\GitHub\Permian Well Economics Engine
collecting ... collected 28 items

tests/test_decline_curves.py::TestRateFunctions::test_exponential_at_t_zero_equals_qi PASSED [  3%]
tests/test_decline_curves.py::TestRateFunctions::test_hyperbolic_at_t_zero_equals_qi PASSED [  7%]
tests/test_decline_curves.py::TestRateFunctions::test_harmonic_at_t_zero_equals_qi PASSED [ 10%]
tests/test_decline_curves.py::TestRateFunctions::test_modified_hyperbolic_at_t_zero_equals_qi PASSED [ 14%]
tests/test_decline_curves.py::TestRateFunctions::test_all_functions_decline_monotonically PASSED [ 17%]
tests/test_decline_curves.py::TestRateFunctions::test_higher_b_gives_higher_rate_at_late_time PASSED [ 21%]
tests/test_decline_curves.py::TestRateFunctions::test_higher_Di_gives_lower_rate_at_late_time PASSED [ 25%]
tests/test_decline_curves.py::TestRateFunctions::test_modified_hyperbolic_lower_than_pure_at_late_time PASSED [ 28%]
tests/test_decline_curves.py::TestRateFunctions::test_hyperbolic_raises_on_invalid_b PASSED [ 32%]
tests/test_decline_curves.py::TestRateFunctions::test_hyperbolic_raises_on_b_above_2 PASSED [ 35%]
tests/test_decline_curves.py::TestEURCalculator::test_eur_positive_for_all_types PASSED [ 39%]
tests/test_decline_curves.py::TestEURCalculator::test_modified_hyperbolic_eur_less_than_pure_hyperbolic PASSED [ 42%]
tests/test_decline_curves.py::TestEURCalculator::test_eur_in_realistic_permian_range FAILED [ 46%]
tests/test_decline_curves.py::TestEURCalculator::test_higher_qi_gives_higher_eur PASSED [ 50%]
tests/test_decline_curves.py::TestEURCalculator::test_unknown_decline_type_raises PASSED [ 53%]
tests/test_decline_curves.py::TestDeclineCurveFitter::test_recovers_hyperbolic_parameters_within_10_percent PASSED [ 57%]
tests/test_decline_curves.py::TestDeclineCurveFitter::test_auto_mode_returns_valid_result PASSED [ 60%]
tests/test_decline_curves.py::TestDeclineCurveFitter::test_auto_upgrades_high_b_to_modified_hyperbolic PASSED [ 64%]
tests/test_decline_curves.py::TestDeclineCurveFitter::test_eur_positive_and_in_permian_range PASSED [ 67%]
tests/test_decline_curves.py::TestDeclineCurveFitter::test_confidence_interval_brackets_p50 PASSED [ 71%]
tests/test_decline_curves.py::TestDeclineCurveFitter::test_raises_on_insufficient_data PASSED [ 75%]
tests/test_decline_curves.py::TestDeclineCurveFitter::test_raises_on_unknown_decline_type PASSED [ 78%]
tests/test_decline_curves.py::TestDeclineCurveFitter::test_well_id_stored_in_output PASSED [ 82%]
tests/test_decline_curves.py::TestForecast::test_forecast_returns_correct_length PASSED [ 85%]
tests/test_decline_curves.py::TestForecast::test_forecast_production_non_negative PASSED [ 89%]
tests/test_decline_curves.py::TestForecast::test_forecast_cumulative_is_monotonically_increasing PASSED [ 92%]
tests/test_decline_curves.py::TestForecast::test_forecast_below_economic_limit_is_zero PASSED [ 96%]
tests/test_decline_curves.py::TestForecast::test_forecast_stores_parameters PASSED [100%]

================================== FAILURES ===================================
____________ TestEURCalculator.test_eur_in_realistic_permian_range ____________

self = <tests.test_decline_curves.TestEURCalculator object at 0x000001B449262490>

    def test_eur_in_realistic_permian_range(self):
        """A representative Midland Basin well should produce 100-1000 MBOE."""
        eur, life = calculate_eur(650, 0.082, 1.38, 'modified_hyperbolic')
>       assert 100 < eur < 1000, \
            f"EUR {eur:.0f} MBOE outside realistic Permian range (100-1000)"
E       AssertionError: EUR 1088 MBOE outside realistic Permian range (100-1000)
E       assert 1087.8206661084034 < 1000

tests\test_decline_curves.py:139: AssertionError
=========================== short test summary info ===========================
FAILED tests/test_decline_curves.py::TestEURCalculator::test_eur_in_realistic_permian_range
======================== 1 failed, 27 passed in 2.26s =========================
